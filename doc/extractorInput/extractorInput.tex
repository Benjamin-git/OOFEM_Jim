\documentstyle[epsf,a4,html]{article}
\input{include.tex}
\newcommand{\mbf}[1]{\mbox{\boldmath$#1$}}
\newcommand{\excommand}[1]{#1}
\begin{document}

%begin{latexonly}
\title{\oofem Extractor Input Data Format}
\author{\bp \\ \\
Czech Technical University\\
Faculty of Civil Engineering\\
Department of Structural Mechanics\\
Th\'akurova 7, 166 29 Prague, Czech Republic
}
\maketitle
%end{latexonly}
\begin{htmlonly}
\begin{center}
{\Large \oofem Extractor Input Data Format} \\ \\
{\bp \\ 
Czech Technical University\\
Faculty of Civil Engineering\\
Department of Structural Mechanics\\
Th\'akurova 7, 166 29 Prague, Czech Republic\\ \\
}
\end{htmlonly}


``Extractor'' is a package for automatic extraction of user-defined
values from OOFEM output file. The user-defined values are defined in
extractor input file. For each solution step, the Extractor finds
corresponding values. The nature of solution step is problem
dependent, it may represent load case, time step or one of eigen
values of problem.
The output is printed to stdout, one row per each solution step.
In particular columns are printed the extracted values, preserving
their order in input file. The implementation of extractor is
efficient, all values are extracted using single pass through source
output file.

The program should be executed in following way
\begin{verbatim}
extractor -f inputFileNamePath
\end{verbatim}
The {\em inputFileNamePath} is input file name path, containing description of
user-defined extracted values. The {\bf-f} option is compulsory. If not
supplied, the program prints usage information and exits. The format
of Extractor {\bf input file} has two compulsory sections, the {\bf source file
section} and {\bf section describing extracted values}.

The source file section should be at first line of input file and
contains operating system valid path to OOFEM output file, from which
data will be extracted.

The format of section describing extracted values is following:
\begin{verbatim}
#%BEGIN_CHECK%
[#NODE number # dof # unknown #]
[#SIDE number # dof # unknown #]
[#EIG_NODE number # dof # unknown #]
[#EIG_SIDE number # dof # unknown #]
[#ELEMENT number # gp # record # component #]
[#EIG_ELEMENT number # gp # record # component #]
[#BEAM_ELEMENT number # record # component #]
[#EIG_BEAM_ELEMENT number # record # component #]
[#REACTION comNumber # dof # ]
[#EIGVAL]
[#LOADLEVEL]
[#TIME]
[#NITE]
[#UTIME]s
#%END_CHECK%
\end{verbatim}
The \#\%\excommand{BEGIN\_CHECK}\% and \#\%\excommand{END\_CHECK}\% records are compulsory.
The records in [ ] are optional, and can be used once or more
times. Their order is optional, but extracted values are printed in
columns according to their order in input file. The stand-alone \#
after {\em keyword} indicates the value to be substituted for this
keyword. The line beginning with \#\# characters is skipped and can be
used as comment. Generally expected values are integer values, except {\em
unknown} keyword, after which single char value is expected. The
particular records describe different types of characteristic value,
which can be extracted. Their meaning is following
\begin{itemize}
\item[-]
\begin{verbatim}
[#NODE number # dof # unknown #]
[#SIDE number # dof # unknown #]
\end{verbatim}
These records allow extraction of arbitrary unknown associated with
some DOF in particular node or element side (if has it's own DOFs).
The {\em number} value represent node or element side number, the {\em
dof} value the particular DOF number. The DOF numbering is determined
by domain type or by user defined DOF ordering in specific
DofManager (see OOFEM Input format specification). The {\em unknown} value
is represented by single character, which determine the mode of the
extracted value. Currently supported substitutions are 'd' for displacement, 'v' for velocity,
and 'a' for acceleration.
\item[-]
\begin{verbatim}
[#EIG_NODE number # dof # unknown #]
[#EIG_SIDE number # dof # unknown #]
\end{verbatim}
Represent the eigen value of particular DOF associated to certain
node or side. The {\em number} value represent node or element side number, the {\em
dof} value the particular DOF number. The DOF numbering is determined
by domain type or by user defined DOF ordering in specific
DofManager (see OOFEM Input format specification). The {\em unknown} value
is represented by single character, which determine the mode of the
extracted value. Currently supported substitutions are 'd' for displacement, 'v' for velocity,
and 'a' for acceleration.
\item[-]
\begin{verbatim}
[#ELEMENT number # gp # record # component #]
[#EIG_ELEMENT number # gp # record # component #]
\end{verbatim}
Records represent the unknowns associated to integration point of
particular element. Use \#\excommand{EIG\_ELEMENT} keyword  to extract eigen
values. The {\em number} value determines the element number, the {\em
gp} determines particular integration point number of element. 
Generally, with each integration point there are associated many
records (typically strain and stress records for structural
analysis). Their order depends on problem being solved and
constitutive model used. The {\em record} determines the integration
point record order (typically 0 for strain record, 1 for stress
record). The particular record may contain several values, based upon
record nature (scalar, vector, tensorial character of record value).
The {\em  component} value represent value at corresponding position
in record. 
\item[-]
\begin{verbatim}
[#BEAM_ELEMENT number # record # component #]
[#EIG_BEAM_ELEMENT number # record # component #]
\end{verbatim}
Records representing the unknown associated to certain exact-family beam
element (beam elements formulated without integration points, with
exact analytical integration, the unknowns are provided as end forces
and and-displacements. Currently Beam2d and Beam3d elements). 

Use \#\excommand{EIG\_BEAM\_ELEMENT} keyword  to extract eigen
values. The {\em number} value determines the element number.
Generally, there are several records associated with such element
(typically end-displacements  and end-forces vectors). 
The {\em record} determines the record order (typically 0 for end-displacement record, 1 for end-forces
record). The particular record may contain several values, based upon
record nature. The {\em  component} value represent value at corresponding position
in record. 
\item[-]
\begin{verbatim}
[#REACTION comNumber # dof # ]
\end{verbatim}
Represent reaction force associated with some boundary condition
prescribed in specific DofManager's DOF. The DofManger is determined
using {\em comNumber} value and its particular DOF using {\em dof} value.
\item[-]
\begin{verbatim}
[#LOADLEVEL]
\end{verbatim}
Represent reached load level in particular solution step.
\item[-]
\begin{verbatim}
[#TIME]
\end{verbatim}
Represent time associated with solution step.
\item[-]
\begin{verbatim}
[#NITE]
\end{verbatim}
Number of iterations required to reach equalibrium in solution
step. May not be available for all problems.
\item[-]
\begin{verbatim}
[#UTIME]
\end{verbatim}
User time needed to solve the solution step. 
\end{itemize}
Any lines between first line (source file section) and the beginning
of section describing extracted values (\#\%\excommand{BEGIN\_CHECK}\% record) are
skipped. 
\end{document}
